# FHIR Gateway Configuration
# Copy this file to .env and customize as needed

# =============================================================================
# Server Settings
# =============================================================================
FHIR_GATEWAY_HOST=0.0.0.0
FHIR_GATEWAY_PORT=8000
# Set to true for development (allows default session secret)
FHIR_GATEWAY_DEBUG=true
# Public URL for MCP connection instructions on landing page
FHIR_GATEWAY_PUBLIC_URL=http://localhost:8000

# =============================================================================
# Logging
# =============================================================================
FHIR_GATEWAY_LOG_LEVEL=INFO
FHIR_GATEWAY_LOG_JSON=true

# =============================================================================
# Session Settings
# =============================================================================
FHIR_GATEWAY_SESSION_MAX_AGE=3600
# Set to false for local development over HTTP
FHIR_GATEWAY_SESSION_COOKIE_SECURE=true

# =============================================================================
# OAuth Settings
# =============================================================================
FHIR_GATEWAY_OAUTH_REDIRECT_URI=http://localhost:8000/oauth/callback

# =============================================================================
# CORS Settings
# =============================================================================
# For development: use specific origins (credentials auto-enabled)
# CANNOT use * with credentials (browser security restriction)
# For public API: use FHIR_GATEWAY_CORS_ORIGINS=*
FHIR_GATEWAY_CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# Redis Settings (recommended - run: docker compose up redis -d)
# =============================================================================
# Use redis:// for local dev or rediss:// for TLS in production
FHIR_GATEWAY_REDIS_URL=redis://localhost:6379
# FHIR_GATEWAY_REQUIRE_REDIS_TLS=false

# =============================================================================
# Encryption Settings (REQUIRED)
# =============================================================================
# Master key for encrypting tokens at rest (min 32 characters)
# Generate with: openssl rand -base64 32
FHIR_GATEWAY_MASTER_KEY="jVi7kDmGVhL0LX6RcB6ui+xN7IpNq8O4SCShCoYl2ZU="

# =============================================================================
# Platform OAuth Credentials
# Set credentials for each platform you want to use
# Format: FHIR_GATEWAY_PLATFORM_{PLATFORM_ID}_CLIENT_ID
#         FHIR_GATEWAY_PLATFORM_{PLATFORM_ID}_CLIENT_SECRET
# Platform ID is uppercased with hyphens converted to underscores
# =============================================================================
# FHIR_GATEWAY_PLATFORM_AETNA_CLIENT_ID=your-client-id
# FHIR_GATEWAY_PLATFORM_AETNA_CLIENT_SECRET=your-client-secret
# FHIR_GATEWAY_PLATFORM_AETNA_SANDBOX_CLIENT_ID=your-client-id
# FHIR_GATEWAY_PLATFORM_AETNA_SANDBOX_CLIENT_SECRET=your-client-secret
